CREATE TABLE Usuario(
    ID SMALLINT NOT NULL CONSTRAINT PK_Usuario PRIMARY KEY
    ,Nombre VARCHAR(30) NOT NULL
    ,Saldo SMALLMONEY NOT NULL
    ,Email VARCHAR(50) NOT NULL CONSTRAINT CK_Email CHECK (Email LIKE '%_@__%.__%')
    ,Contrasenha VARCHAR(30) NOT NULL
)

CREATE TABLE Transaccion(
    ID SMALLINT NOT NULL CONSTRAINT PK_Transaccion PRIMARY KEY
    ,IDUsuario SMALLINT NOT NULL CONSTRAINT FK_Transaccion FOREIGN KEY REFERENCES Usuario(ID) ON DELETE CASCADE ON UPDATE CASCADE
    ,Fecha DATETIME NOT NULL
    ,Importe SMALLMONEY NOT NULL
    ,Concepto VARCHAR(100) NULL
)

CREATE TABLE Piloto(
    Numero TINYINT NOT NULL CONSTRAINT PK_Piloto PRIMARY KEY
    ,Nombre VARCHAR(20) NOT NULL
    ,Apellido VARCHAR(20) NOT NULL
    ,Siglas CHAR(3) NOT NULL
    ,Escudería CHAR(3) NOT NULL
)

CREATE TABLE Carrera(
    Código SMALLINT NOT NULL CONSTRAINT PK_Carrera
)